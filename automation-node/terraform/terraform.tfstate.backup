{
  "version": 4,
  "terraform_version": "0.12.21",
  "serial": 22,
  "lineage": "6a9227e5-9c0c-0751-9982-8f87c7ae6c91",
  "outputs": {
    "instanceId": {
      "value": "5391105284962920442",
      "type": "string"
    },
    "instanceIp": {
      "value": "10.140.0.10",
      "type": "string"
    },
    "publicIp": {
      "value": "35.234.49.157",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "google_compute_instance",
      "name": "automation-node",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 6,
          "attributes": {
            "allow_stopping_for_update": null,
            "attached_disk": [],
            "boot_disk": [
              {
                "auto_delete": true,
                "device_name": "persistent-disk-0",
                "disk_encryption_key_raw": "",
                "disk_encryption_key_sha256": "",
                "initialize_params": [
                  {
                    "image": "https://www.googleapis.com/compute/v1/projects/centos-cloud/global/images/centos-7-v20191014",
                    "labels": {},
                    "size": 10,
                    "type": "pd-standard"
                  }
                ],
                "kms_key_self_link": "",
                "mode": "READ_WRITE",
                "source": "https://www.googleapis.com/compute/v1/projects/organic-acronym-269914/zones/asia-east1-c/disks/automation-vm"
              }
            ],
            "can_ip_forward": false,
            "cpu_platform": "Intel Broadwell",
            "deletion_protection": false,
            "description": "",
            "enable_display": false,
            "guest_accelerator": [],
            "hostname": "",
            "id": "projects/organic-acronym-269914/zones/asia-east1-c/instances/automation-vm",
            "instance_id": "5391105284962920442",
            "label_fingerprint": "42WmSpB8rSM=",
            "labels": null,
            "machine_type": "n1-standard-1",
            "metadata": {
              "name": "automation-node",
              "ssh-keys": "automation:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxNOIGMk/Z+l11X7+B8llG2dS+V89UqXSg61YuCyjZrX/5qtTPPmFnh5Sk/VO2yW0tgcnS9hVd4USH1jNugkQZ8vEdR1yNjnroOnuAhrr3EFymZuIZ6eFm0gtggJL2sjW+Pi54NPYphJ7F/GH+Al2oa6ECrcEhlfXHgnoGyUjMqioGU5aixxWeVF4kjup5qg+841MOOdEPyX9AZKyiVZWK+0DU5jlGlHQiUI3G3I6KTbyUIPt0mcz+ZaA+j2eRlyV/UsufNb+xHs1FVVk//zpJmW7ymq/xKoNzQ/l1ScoeYuEmEEivIUrYA/G7PAUeL4i/43Q7fnLd7UFH2i/Ohp7tWvZhFxynp4xKvcZZwpepvWUynxd05IB1jJlzCnhFTorerkHTBcA5NiTBymMIQ+8syQqCxxiNPCK2xRDQ0taEwue+4mzscR2hD9e1pFsHN8PbqfwKppml5Ix1Pa76fEOMf0fDV52n90jqBtOjUd8vcZ+o6R5uD7GB0O6NX/LYitS0kaROk+pdOzcNW6e6kyDXYkfysZWFU/AMZhUv4Bz1S4pY09clhyly8NtGSlntBhJecAK1+Jh2qfzwKs5CKnRt4AKBBBal9PVWaudVR22tSFrT17QuVSNUKGQ421EClSNljHnjl9ziCF4ewmgam10lsc9cin55MtxQiPat5/B1bQ== krishna.ammineni@gmail.com\n"
            },
            "metadata_fingerprint": "98ImbbpkSdE=",
            "metadata_startup_script": "#TERRAFORM_DIR=\"terraform\"\n#\n#cd ${TERRAFORM_DIR}\n###### terraform ########\n#terraform init\n#terraform plan\n#terraform apply -auto-approve\npublic_ip=${terraform output publicIp}\n#public_ip2=${terraform output publicIp1}\n\n####### Ansible #########\n#sleep 30\n#ssh automation@${publicj_ip}  \"ifconfig\"\n\n#! /bin/bash\nyum repolist\nyum install wget python36 git unzip -y\npython3 -m pip install ansible==2.8.0\nwget https://releases.hashicorp.com/terraform/0.12.21/terraform_0.12.21_linux_amd64.zip\nunzip terraform_0.12.21_linux_amd64.zip\n#sudo chmod -R 757 /bin/\nmv terraform /bin\ngit clone https://github.com/krishnaammineni/devops_demo1.git\ncat \u003c\u003cEOF \u003e /devops_demo1/Master-node/terraform/credentials.json\n{\n  \"type\": \"service_account\",\n  \"project_id\": \"organic-acronym-269914\",\n  \"private_key_id\": \"45449117a81fc18b9ee39307e40e33b8c9c82095\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDmxhEAZzrVXRQL\\nj9J/m9VoEafM0qiRyRdc2j74qx3Ed5z4AyvJVnziOKVMgAo1+eUkXIkukW+5evv2\\ncPFL+7gUecRMUSxHolV6oZ3iDxQ5WoeRZAVM4svtQou8yqacwUiWLp/RYdRt/sdg\\nWI0p9tOwvwEjFTVG+LSNnJN98J48W2aa1jsx/T+hn77LwK4viIduW4hcgK9R4rti\\nujJYsWYg8a6/Trm5+bVrSU+teN43sjjdrpjmUkMUM7BZWNRKmcxFGAFM2mAO5RZA\\nStaMIt6JPSLXbM4haGufLiGoZ4uyGgfNyM6GGRsMKwsFIpsjpmHQnLwUz1UpLWRV\\nWUEzd3LVAgMBAAECggEABDTG+Y1oHpxwMZfA++9wr9FmkA6k4Odb5CbcL/cad0rA\\n0ypnoWdQpmTm6mKJDRvNZ+DB5VXkRequbfr4Au0HGWRwxf1Sw8l7Kl2IvaaNtU/n\\nmahLim+1zNDCMEI3UDMbqhUWd6ADWa/jnWdvxzyG9jk9AZEw4+bDj7MzYv/AOpRd\\nCZH3+P8LRvPwcPDiDOoZvTsRoBB1pTHe76WECSZ2tmxya9rWHXHqGcoNeYjpRklb\\nY0YcXihCc8lG/IOIxi5EgwW1zG10kLcc9FLjPNbRlcdfPN7+OMLl63OFQAehMSAI\\naKsVtvEhuCzQNMBewPiqCQbnGp+mE+s8qQsYeX6boQKBgQD1Ha7xBsRGfODa7Yn7\\nxxCgGisuN3PlOqOwZFVqkjP5jXb7XkHYOBe25xFJlhGIoN+4XxtaAtz/o/z+cU25\\nggkf0xXHxJp7gm2worxaLfq+XJ0I+/W3PEEx44cLCEBFL9oM68TsCx7UIQf2dIYY\\nYBebLVKV08g5c7NmnvvgfIiqBQKBgQDxBVmJnSCya4fVbWoG/74qjY83t/H0fgHT\\n6S/OK1NXKy45J476F+W8JGMLbjnVR2PgsbCTl8cAWQSzc470RImqxp2kVsugydRf\\noM4f143xHHQpqh+FiN1a4IccuQowKlUVM1lr9UcTGHUwTgzPoUjoWgHKMyZ2WZMn\\n+sijj81ukQKBgFr3ky88Nad7PO/C7EyWiiMA0zmptsdBxfH2qoSMkeFxkNClIIaf\\n+p0UkCPhH8y295AzK7FyEpaFQ6UiY5gPHFfFPPYQjsx7kT3Wh1RocAAp2tW0vHIu\\nWHutVzbO7xs+MQxOi5yWW/CZ+ZyLjiCJuPkMDvQvzsUTnWbeZdfgH9AJAoGBANag\\nZPNesNcxWmx8WoaRBs7t8DM14ohODWKfrKpzemuNUEQlLfUXgsTfwjNTnLyILjDR\\nCuTjq5prqvwCU7LBtbYV2BuYDwzHrg7aK7O/R+8F34uaqydGkZdzid3SCXiKuel/\\nKIoyiXA/v1ucpVvfzATc4eslUYLikWBwumqsi8uBAoGAUu1QokMnOC3OznvU0exa\\nPzgB0AOU4Hqp3Khgx6RtMB3926r3PI3fafSvGRSieSbIw3DzbBSxl31A175iZzkl\\nNTU2lIHWTOtaYLH3Pm36X7hN6sGZZM6k7yLKjZEo0N3TccHFFKaJErQ7yX2APkfn\\nD5En/9AfacomcdljfvfxoVE=\\n-----END PRIVATE KEY-----\\n\",\n  \"client_email\": \"devops-test@organic-acronym-269914.iam.gserviceaccount.com\",\n  \"client_id\": \"106983066910530460654\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/devops-test%40organic-acronym-269914.iam.gserviceaccount.com\"\n}\nEOF\n\ncat \u003c\u003cEOF \u003e /home/automation/.ssh/id_rsa\n-----BEGIN OPENSSH PRIVATE KEY-----\n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\n-----END OPENSSH PRIVATE KEY-----\nEOF\n\n#sudo chmod 600 ~/.ssh/id_rsa\n#sudo chmod 600 ~/.ssh/id_rsa.pub\n#sudo echo ${public_ip} \u003e hosts\n#sudo ansible-playbook main.yaml -i hosts --user automation -e \"package=nginx\" -become\n\ncd /devops_demo1/Master-node/terraform\nterraform init\nterraform apply -auto-approve\npublic_ip2=${terraform output publicIp1}\necho ${public_ip2} \u003e /test\necho ${terraform output publicIp1} \u003e /devops_demo1/automation-node/ansible/hosts\ncd ../..\ncd automation-node/ansible\nsudo echo ${terraform output publicIp1} \u003e hosts\nsudo ansible-playbook main.yaml -i hosts --user automation -e \"package=nginx\" -become\n",
            "min_cpu_platform": "",
            "name": "automation-vm",
            "network_interface": [
              {
                "access_config": [
                  {
                    "nat_ip": "35.234.49.157",
                    "network_tier": "PREMIUM",
                    "public_ptr_domain_name": ""
                  }
                ],
                "alias_ip_range": [],
                "name": "nic0",
                "network": "https://www.googleapis.com/compute/v1/projects/organic-acronym-269914/global/networks/default",
                "network_ip": "10.140.0.10",
                "subnetwork": "https://www.googleapis.com/compute/v1/projects/organic-acronym-269914/regions/asia-east1/subnetworks/default",
                "subnetwork_project": "organic-acronym-269914"
              }
            ],
            "project": "organic-acronym-269914",
            "scheduling": [
              {
                "automatic_restart": true,
                "node_affinities": [],
                "on_host_maintenance": "MIGRATE",
                "preemptible": false
              }
            ],
            "scratch_disk": [
              {
                "interface": "SCSI"
              }
            ],
            "self_link": "https://www.googleapis.com/compute/v1/projects/organic-acronym-269914/zones/asia-east1-c/instances/automation-vm",
            "service_account": [
              {
                "email": "16148864726-compute@developer.gserviceaccount.com",
                "scopes": [
                  "https://www.googleapis.com/auth/compute.readonly",
                  "https://www.googleapis.com/auth/devstorage.read_only",
                  "https://www.googleapis.com/auth/userinfo.email"
                ]
              }
            ],
            "shielded_instance_config": [],
            "tags": [
              "automation-node",
              "webapp"
            ],
            "tags_fingerprint": "Vkq03_w5S2E=",
            "timeouts": null,
            "zone": "asia-east1-c"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiNiJ9"
        }
      ]
    }
  ]
}
